# Raspberry-VPN

## Objective
The goal of this project is to set up a secure home-based VPN using a Raspberry Pi and WireGuard, allowing secure access to a home network from anywhere. This setup ensures encrypted connections over public Wi-Fi, secure access to home services, and the ability to bypass regional restrictions when traveling.

### Skills Learned
- **Network Configuration** – Setting up a home network for external access.
- **VPN Administration** – Installing and configuring a WireGuard VPN server on a Raspberry Pi.
- **Dynamic DNS Management** – Using dynamic DNS to handle changing public IP addresses.
- **Port Forwarding** – Configuring the router to allow external access to the VPN.
- **Secure Remote Access** – Establishing secure connections from mobile and desktop devices to the home network.

### Tools Used
- **Raspberry Pi (Model 3 or 4)** – Low-power server for the VPN.
- **WireGuard** – Open-source VPN protocol for secure communication.
- **Dynamic DNS (freedns.afraid.org)** – To handle dynamic IP addresses.
- **Etcher** – To write the operating system image to a microSD card.
- **Router with Port Forwarding** – Allowing external connections to the VPN.
- **SSH & Terminal (PowerShell/Terminal)** – For headless setup and configuration.

## Steps

## 1. Prepare the Raspberry Pi
- **Download the OS:** Get the Raspberry Pi OS (Lite or Desktop) from the official Raspberry Pi website.
- **Flash the microSD Card:** Use Raspberry Pi imager to write the OS image to the microSD card.
- **Enable SSH:** Create a blank file named `ssh` (no extension) in the boot partition of the microSD card.


<img src="https://imgur.com/kSp9LS2.png" alt="Imgur Image" />

*Ref 1: Raspberry Pi Imager*

## 2. Initial Setup
- **Insert the microSD Card:** Into the Raspberry Pi.
- **Connect to Network:** Attach the Raspberry Pi to the router via an Ethernet cable.
- **Power Up:** Connect the power adapter.


<img src="https://imgur.com/2wUkeYL.png" alt="Imgur Image" />

*Ref 2: Raspberry Pi connection*

## 3. Access the Raspberry Pi
- **Find IP Address:** Locate the Pi’s IP address in the router’s administration panel.
- **SSH into the Pi:**
```bash
ssh pi@[Raspberry_Pi_IP_Address]
```
- **Default Credentials:**
  - Username: `pi`
  - Password: `raspberry`

<img src="https://imgur.com/5w8rjPQ.png" alt="Imgur Image" />

*Ref 3: Router administration panel displaying the connected Raspberry Pi and its assigned IP address.*

## 4. Secure the Pi
- **Change Default Password:**
```bash
passwd
```
- **Update System:**
```bash
sudo apt update && sudo apt upgrade
```
- **Reboot:**
```bash
sudo reboot
```

<img src="https://imgur.com/Bnib4iH.png" alt="Imgur Image" />

*Ref 4: Terminal output showing a successful system update and upgrade on the Raspberry Pi.*


## 5. Set Up Dynamic DNS
- **Register on freedns.afraid.org:** Create an account and add a subdomain.
- **Install ddclient:**
```bash
sudo apt install ddclient
```
- **Configure ddclient:** Edit `/etc/ddclient.conf` with your DDNS credentials.
- **Enable ddclient:**
```bash
sudo systemctl enable ddclient
sudo systemctl restart ddclient
```

<img src="https://imgur.com/Ff9nqlH.png" alt="Imgur Image" />

*Ref 5: Setting up dynamic DNS on freedns.afraid.org to manage changing public IP addresses.*

## 6. Configure Port Forwarding
- **Access Router Settings:** Navigate to your router’s port forwarding section.
- **Add a Rule:**
  - **Device:** Select the Raspberry Pi
  - **Protocol:** UDP
  - **Port:** 51820

<img src="https://imgur.com/EQ07MbE.png" alt="Imgur Image" />

*Ref 6: Router port forwarding configuration to allow external access to the Raspberry Pi VPN.*

## 7. Install and Configure WireGuard
- **Install WireGuard:**
```bash
sudo apt install wireguard
```
- **Use the Nyr Script:**
```bash
sudo bash wireguard-install.sh
```
- **Set Hostname:** Use your DDNS domain.
- **Configure Client and DNS:** Choose a client name and a preferred DNS (e.g., `1.1.1.1`).

<img src="https://imgur.com/ufkljY8.png" alt="Imgur Image" />

*Ref 7: Terminal displaying the WireGuard installation process and configuration steps*

## 8. Connect Devices to the VPN
- **On Mobile:**
  - Install the WireGuard app.
  - Scan the QR code generated by the WireGuard setup.
- **On PC:**
  - Download the configuration file from the Raspberry Pi.
  - Import it into the WireGuard application.

<img src="https://imgur.com/UMaeEfP.png" alt="Imgur Image" />

*Ref 8: QR code displayed on the terminal for easy configuration of mobile devices with the WireGuard app.*

## 9. Test the VPN
- **Connect via Mobile Network:** Disable Wi-Fi and connect through cellular data.
- **Verify IP Address:** Check if the public IP matches the home network.

## Conclusion
By following these steps, you can create a secure and private VPN using a Raspberry Pi. This setup not only enhances security on public networks but also provides access to home services while traveling. This project serves as an excellent hands-on experience with networking, security, and server administration.


